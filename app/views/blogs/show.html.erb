
<head>


<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

<style>
  .fa {
    font-size: 20px;
    cursor: pointer;
    user-select: none;
  }
  .fas {
    font-size: 40px;
    cursor: pointer;
    user-select: none;
  }
  .custom_bn {
    color: white;
    background-color: #5bc0de!important; 
    padding-top: 3px; 
    padding-bottom: 3px;
    padding-left: 6px;
    padding-right: 6px;
  }
  a.custom_bn:hover {
  background-color: #46b8da!important;
  color: white!important;
  text-decoration: none!important;
}
</style>
</head>
<body>

<div class="container">

  <div class= "row">
      <div class= "col">    
          <h1 style="font-weight: bold;">Blog DETAILS</h1>
      </div>
      <div class = "col-2 my-2">
   
          <%= link_to 'Upload New Blog', new_blog_path , class:"btn btn-info btn-md", style:"hover:{color: white};font-size:18px;font-weight: bold; border-radius:5px"%>

          <br>
      </div>
  </div>
</div>


    <div class=container>

      <div class = "row bg-info">         
              <div class=container>
             <div class = "row ">     
             <div id="carousel" class="carousel slide col-12 col-sm-12 col-md-6 col-lg-4 my-auto" data-ride="carousel">
             <div class="carousel-inner"> 
                 <div class="carousel-item active">  
                     <%= link_to @blog do %>
                     <%= image_tag @blog.feature_image.variant(resize_to_fill:[500,500]), style:"max-width:100%"%> 
                     <%end%>
                 </div>
                 <% if @blog.images.attached?%> 
                     <% (1..@blog.images.count).each do |i|%>
                     <div class="carousel-item">
                     <%= image_tag @blog.images[i-1].variant(resize_to_fill:[500,500]), style:"max-width:100%", class:"d-block w-100", style: "height: 300px; padding-bottom: 10px; width: 200px; display: block; float :left; border 1px solid #00000" %>  
                     </div>
                     <%end%>
                 <%end%>
             <a class="carousel-control-prev" href="#carousel" role="button" data-slide="prev">
                 <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                 <span class="sr-only">Previous</span>
             </a>
             <a class="carousel-control-next" href="#carousel" role="button" data-slide="next">
                 <span class="carousel-control-next-icon" aria-hidden="true"></span>
                 <span class="sr-only">Next</span>
             </a>
             </div>
       
       </div>
  <div class= col-8 style="font-weight:bold; padding: 15px">
    <h4 class="card-title" style="font-weight:bold;"><%= @blog.title %></h4>
    <div class="card-text"><%=  simple_format(@blog.description) %>
    </div>
    <div class="card-header">   
      <div class="container">
        <div class= "row">
            <!-- The like section start from here.-->
            <div class= "col-sm-2">
            </div>
            <div class = "col-sm-4">
              <p><%= @blog.likes.count %> 
              <% pre_like = @blog.likes.find { |like| like.user_id == current_user.id} %>
              <% if pre_like %>
              <%= link_to ' ', blog_like_path(@blog, pre_like), class: "fa fa-thumbs-up custom_bn", method: :delete %>
              <% else %>
              <%= link_to ' ', blog_likes_path(@blog), class: "fa fa-thumbs-o-up custom_bn", method: :post %>
              <% end %>
            </div>
            <!-- end the like section.-->
          </div>
        </div>
      </div><br>                                                                                
      <%= link_to 'Back', blogs_path ,class:"btn btn-info" , style:"font-weight:bold;"%>
      </div>
     </div>
  </div>
  </div>
  <div class="col-10 my-4">
    <%= render "comments/comments", commentable: @blog %>
    <%= render "comments/form", commentable: @blog %>
  </div>
    </div> 
  </div>
</div>


  



</body>
