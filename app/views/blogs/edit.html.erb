<div class="container">
    <div class= "row">
        <h1 style="font-weight: bold;">UPDATE BLOG DETAILS</h1>
          
    </div>
</div>
<div class="container">

    <%= form_with(model: @blog, method: :patch, local: true) do |form| %>
        <% if @blog.errors.any? %>
            <div id="error_explanation">
            <h2><%= pluralize(@blog.errors.count, "error") %> prohibited this blog from being saved:</h2>

            <ul>
                <% @blog.errors.full_messages.each do |message| %>
                <li><%= message %></li>
                <% end %>
            </ul>
            </div>
        <% end %>
    
            
        <div class = "row bg-info">           
     
                
            <div id="carousel" class="carousel slide col-12 col-sm-12 col-md-6 col-lg-4 my-auto" data-ride="carousel">
                <div class="carousel-inner"> 
                    <div class="carousel-item active">  
                        <%= link_to @blog do %>
                        <%= image_tag @blog.feature_image.variant(resize_to_fill:[500,500]), style:"max-width:100%"%> 
                        <%end%>
                    </div>
                    <% if @blog.images.attached?%> 
                        <% (1..@blog.images.count).each do |i|%>
                        <div class="carousel-item">
                        <%= image_tag @blog.images[i-1].variant(resize_to_fill:[500,500]), style:"max-width:100%", class:"d-block w-100", style: "height: 300px; padding-bottom: 10px; width: 200px; display: block; float :left; border 1px solid #00000" %>  
                        </div>
                        <%end%>
                    <%end%>
                <a class="carousel-control-prev" href="#carousel" role="button" data-slide="prev">
                    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                    <span class="sr-only">Previous</span>
                </a>
                <a class="carousel-control-next" href="#carousel" role="button" data-slide="next">
                    <span class="carousel-control-next-icon" aria-hidden="true"></span>
                    <span class="sr-only">Next</span>
                </a>
                </div>
          
          </div>
             
            <div class= col-7 style="font-weight:bold; padding: 15px">
                <div class="form-group" style="font-weight:bold;">
                    <%= form.label :title %><br>
                    <%= form.text_field :title, class: 'form-control' %>
                </div>
                
                <div class="form-group">
                    <%= form.label :description %><br>
                    <%= form.text_area :description, rows: 10, :style => "height: 100%;", class: 'lg-textarea form-control' %>
                </div>

                <div class="form-group">
                    <small id="fileHelp" class="form-text" style="font-weight:bold;">Upload image</small>
                    <%= form.file_field :feature_image %>
                </div>

                <div class="form-group">
                    <small id="fileHelp" class="form-text" style="font-weight:bold;">Want to upload multiple pictures? Click here</small>
                    <%= form.file_field :images, multiple: true %>
                </div>
                
                
            
                
                <%= form.submit 'Save Changes',class:"btn btn-primary", style:"font-weight: bold; border-radius:5px"%>
                <%= link_to 'Back', myblogs_path,class:"btn btn-info", style:"font-weight:bold;" %>
            </div>
        </div>
        
    
    <% end %>
    
</div>


